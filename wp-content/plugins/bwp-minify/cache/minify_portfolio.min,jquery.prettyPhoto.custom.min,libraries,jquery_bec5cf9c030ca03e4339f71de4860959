jQuery(function(o){"use strict";function a(a){for(var t=0;t<a.length;t++)o(a[t].element).find(".ompf-desc-wrapper").css("height","auto")}function t(a){for(var t=[],e=[],i=-1,r=-1,n=0;n<a.length;n++){var s=a[n].position;s=s.y,s!=i&&(r++,t[r]=[],e[r]=0,i=s),t[r].push(n);var c=o(a[n].element).find(".ompf-desc").outerHeight();c>e[r]&&(e[r]=c)}var n,d;for(n=0;n<t.length;n++)for(d=0;d<t[n].length;d++){var f=o(a[t[n][d]].element).find(".ompf-desc-wrapper");f.css("height",e[n]+"px")}}function e(o,a){var t=o.data("appenedElemsCallbacks");if(t&&t.length)for(var e=0;e<t.length;e++)"function"==typeof t[e]&&t[e].call(null,a)}jQuery().isotopeOm&&o(".ompf-portfolio").not(".ompf-layout-random").not(".ompf-widget-mode").each(function(){function i(o){var a="";a=o.category_id?o.category_id:"all",o.paged&&1!=o.paged&&(a+="&"+o.paged),document.location.hash=a}function r(a){o("a",a).click(function(){var a={paged:o(this).data("page-number")},t=f.data("current-category-id");return t&&(a.category_id=t),n(a),!1})}function n(a){a.action="ompf_portfolio_ajax",a.portfolio_id=f.data("portfolio-post-id"),"category_id"in a&&a.category_id||!f.data("portfolio-category-id")||(a.category_id=f.data("portfolio-category-id")),a.pagination="pages",p&&p.abort(),f.stop(!0).fadeTo(300,.5),h.stop(!0).fadeTo(300,1),p=o.ajax({type:"POST",url:ajaxurl,data:a,dataType:"json"}).success(function(t){if(0==t.error){i(a),a.category_id?f.data("current-category-id",a.category_id):f.data("current-category-id",!1);var n=o(t.html).filter(".ompf-portfolio-thumb");f.isotopeOm("remove",f.find(".ompf-portfolio-thumb")),f.isotopeOm("insert",n),e(f,n),u.html(t.html_pagination),r(u)}}).always(function(){f.stop(!0).fadeTo(300,1),h.stop(!0).fadeOut(300)});var t=f.offset(),n=o(window).scrollTop();t.top<n&&(n=t.top-70,0>n&&(n=0),o("html, body").animate({scrollTop:n},"500","swing"))}function s(o){var a="";o.category_id&&(a=o.category_id),""!=a?document.location.hash=a:""!=document.location.hash.replace("#","")&&(document.location.hash="all")}function c(a){o("a",a).click(function(){var o=f.data("current-paged");"undefined"==typeof o&&(o=1),o++;var a={paged:o},t=f.data("current-category-id");return t&&(a.category_id=t),d(a),!1}),jQuery.waypoints&&setTimeout(function(){o("#ompf-loadmore-link",a).waypoint(function(){o(this).click()},{offset:"130%",triggerOnce:!0})},500)}function d(a){a.action="ompf_portfolio_ajax",a.portfolio_id=f.data("portfolio-post-id"),"category_id"in a&&a.category_id||!f.data("portfolio-category-id")||(a.category_id=f.data("portfolio-category-id")),a.pagination="scroll",p&&p.abort(),_.hide(),a.is_new_category?(f.stop(!0).fadeTo(300,.5),h.stop(!0).fadeTo(300,1)):w.stop(!0,!0).css({visibility:"visible"}).show(),p=o.ajax({type:"POST",url:ajaxurl,data:a,dataType:"json"}).success(function(t){if(0==t.error){s(a),f.data("current-paged",a.paged),a.category_id?f.data("current-category-id",a.category_id):f.data("current-category-id",!1);var i=o(t.html).filter(".ompf-portfolio-thumb");a.is_new_category?(f.isotopeOm("remove",f.find(".ompf-portfolio-thumb")),f.isotopeOm("insert",i)):f.append(i).isotopeOm("appended",i),e(f,i),_.html(t.html_pagination),c(_)}}).always(function(){a.is_new_category?(f.stop(!0).fadeTo(300,1),h.stop(!0).fadeOut(300)):w.css("visibility","hidden").slideUp(300),_.show()})}var f=o(this),l={itemSelector:".ompf-portfolio-thumb",transitionDuration:"0.5s"};f.hasClass("ompf-layout-fixed")?o.extend(l,{layoutMode:"fitRows"}):f.hasClass("ompf-layout-masonry")&&o.extend(l,{layoutMode:"masonry"}),f.isotopeOm(l),f.hasClass("ompf-layout-fixed")&&f.data("fit-height")&&f.hasClass("ompf-preview-layout-full")&&(f.isotopeOm("on","beforeLayout",function(o){a(o.items)}),f.isotopeOm("on","beforeAnimation",function(o){t(o.items)})),o(window).bind("load",function(){f.isotopeOm("layout")});var p=!1;if(f.hasClass("ompf-pagination-no")){var m=o(".ompf-portfolio-categories a");m.click(function(){if(o(this).hasClass("ompf-active"))return!1;m.removeClass("ompf-active"),o(this).addClass("ompf-active");var a=o(this).data("filter");return"undefined"==typeof a&&(a=""),l.filter=""!=a?".ompf-"+a:!1,f.isotopeOm(l),""==a&&(a="all"),document.location.hash=a,!1}),document.location.hash&&m.filter("[data-filter="+document.location.hash.replace("#","")+"]").click()}else if(f.hasClass("ompf-pagination-pages")){var m=o(".ompf-portfolio-categories a"),u=o("#ompf-pagination-holder"),h=o('<div class="ompf-ajaxloading" />').appendTo("body");if(document.location.hash){var g=document.location.hash.replace("#","").split("&");if(g[0]||g[1]){var y={};if(g[0]&&"all"!=g[0]){y.category_id=g[0];var v=m.filter("[data-category-id="+g[0]+"]");v.length&&(m.removeClass("ompf-active"),v.addClass("ompf-active"))}g[1]&&(y.paged=g[1]),n(y)}}m.click(function(){if(o(this).hasClass("ompf-active"))return!1;m.removeClass("ompf-active"),o(this).addClass("ompf-active");var a=o(this).data("category-id"),t={category_id:a};return n(t),!1}),r(u)}else if(f.hasClass("ompf-pagination-scroll")){var m=o(".ompf-portfolio-categories a"),_=o("#ompf-loadmore-holder"),w=o('<div class="ompf-loadmoreloading" />').insertBefore(_),h=o('<div class="ompf-ajaxloading" />').appendTo("body");m.click(function(){if(o(this).hasClass("ompf-active"))return!1;m.removeClass("ompf-active"),o(this).addClass("ompf-active");var a=o(this).data("category-id"),t={category_id:a,paged:1,is_new_category:!0};return d(t),!1});var C=!1;if(document.location.hash){var g=document.location.hash.replace("#","").split("&");if(g[0]){var v=m.filter("[data-category-id="+g[0]+"]");if(v.length){var y={};y.category_id=g[0],m.removeClass("ompf-active"),v.addClass("ompf-active"),y.is_new_category=!0,d(y),C=!0}}}C||c(_)}}),o(".ompf-responsive-embed").each(function(){var a=o(this).children(":first");if(a.length){var t=parseInt(a.attr("width")),e=parseInt(a.attr("height"));if(!isNaN(t)&&!isNaN(e)&&t>0&&e>0){var i=e/t;o(this).css("padding-bottom",100*i+"%")}}})});
;/* ------------------------------------------------------------------------
	Class: prettyPhoto
	Use: Lightbox clone for jQuery
	Author: Stephane Caron (http://www.no-margin-for-errors.com)
	Version: 3.1.6
	
	// _fitToViewport fucntion modified
------------------------------------------------------------------------- */
!function(e){function t(){var e=location.href;return hashtag=-1!==e.indexOf("#prettyPhoto")?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):!1,hashtag&&(hashtag=hashtag.replace(/<|>/g,"")),hashtag}function i(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function p(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function o(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+e+"=([^&#]*)",p=new RegExp(i),o=p.exec(t);return null==o?"":o[1]}e.prettyPhoto={version:"3.1.6"},e.fn.prettyPhoto=function(a){function s(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(I/2-f.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:f.contentHeight,width:f.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:j/2-f.containerWidth/2<0?0:j/2-f.containerWidth/2,width:f.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(f.height).width(f.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==h(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(f.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),!settings.autoplay_slideshow||P||v||e.prettyPhoto.startSlideshow(),settings.changepicturecallback(),v=!0}),m(),a.ajaxcallback()}function n(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show(),t()})}function r(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function l(e,t){if(resized=!1,d(e,t),imageWidth=e,imageHeight=t,(k>j||b>I)&&doresize&&settings.allow_resize&&!$){for(resized=!0,fitting=!1;!fitting;){var i=.1*j;i>200?i=200:20>i&&(i=20),k>j?(imageWidth=j-i,imageHeight=t/e*imageWidth):b>I?(imageHeight=I-i,imageWidth=e/t*imageHeight):fitting=!0,b=imageHeight,k=imageWidth}(k>j||b>I)&&l(k,b),d(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(b),containerWidth:Math.floor(k)+2*settings.horizontal_padding,contentHeight:Math.floor(y),contentWidth:Math.floor(w),resized:resized}}function d(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),y=i+detailsHeight,w=t,b=y+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),k=t}function h(e){return e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":"#"==e.substr(0,1)?"inline":"image"}function c(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=_(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=I/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>I)return;$pp_pic_holder.css({top:projectedTop,left:j/2+scroll_pos.scrollLeft-contentwidth/2})}}function _(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function g(){I=e(window).height(),j=e(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(e(document).height()).width(j)}function m(){isSet&&settings.overlay_gallery&&"image"==h(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((f.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,e.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function u(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){e(this).find("a").click(function(){return e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()}),e("a.pp_close").bind("click",function(){return e.prettyPhoto.close(),!1}),settings.allow_expand&&e("a.pp_expand").bind("click",function(){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),n(function(){e.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1}),c()}a=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},a);var f,v,y,w,b,k,P,x=this,$=!1,I=e(window).height(),j=e(window).width();return doresize=!0,scroll_pos=_(),e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){c(),g()}),a.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:e.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close(),t.preventDefault()}}),e.prettyPhoto.initialize=function(){return settings=a,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=e(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("href"):void 0}):e.makeArray(e(this).attr("href")),pp_titles=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):"":void 0}):e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("title")?e(t).attr("title"):"":void 0}):e.makeArray(e(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this)),u(this),settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){c()}),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=a,pp_images=e.makeArray(arguments[0]),pp_titles=e.makeArray(arguments[1]?arguments[1]:""),pp_descriptions=e.makeArray(arguments[2]?arguments[2]:""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,u(t.target)),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),r(e(pp_images).size()),e(".pp_loaderIcon").show(),settings.deeplinking&&i(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(o("width",pp_images[set_position]))?o("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(o("height",pp_images[set_position]))?o("height",pp_images[set_position]):settings.default_height.toString(),$=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150),$=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150),$=!0),$pp_pic_holder.fadeIn(function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?unescape(pp_titles[set_position]):"&nbsp;"),imgPreloader="",skipInjection=!1,h(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<e(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){f=l(imgPreloader.width,imgPreloader.height),s()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":f=l(movie_width,movie_height),movie_id=o("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=o("rel",pp_images[set_position])?"?rel="+o("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":f=l(movie_width,movie_height),movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,i=movie_id.match(t);movie="http://player.vimeo.com/video/"+i[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=f.width+"/embed/?moog_width="+f.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,f.height).replace(/{path}/g,movie);break;case"quicktime":f=l(movie_width,movie_height),f.height+=15,f.contentHeight+=15,f.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":f=l(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":f=l(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,f=l(movie_width,movie_height),doresize=!0,skipInjection=!0,e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s()});break;case"custom":f=l(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,f=l(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s())}),!1},e.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,set_position<0&&(set_position=e(pp_images).size()-1)):"next"==t?(set_position++,set_position>e(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),n(function(){e.prettyPhoto.open()})},e.prettyPhoto.changeGalleryPage=function(e){"next"==e?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==e?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed="next"==e||"previous"==e?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},e.prettyPhoto.startSlideshow=function(){"undefined"==typeof P?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return e.prettyPhoto.stopSlideshow(),!1}),P=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1}),clearInterval(P),P=void 0},e.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(e.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).unbind("scroll.prettyphoto"),p(),settings.callback(),doresize=!0,v=!1,delete settings}))},!pp_alreadyInitialized&&t()&&(pp_alreadyInitialized=!0,hashIndex=t(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){e("a["+a.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;
;(function(c){function f(a){a=a.replace(/left|top/g,"0px");a=a.replace(/right|bottom/g,"100%");a=a.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");a=a.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);return[parseFloat(a[1],10),a[2],parseFloat(a[3],10),a[4]]}if(!document.defaultView||!document.defaultView.getComputedStyle){var d=c.css;c.css=function(a,b,c){"background-position"===b&&(b="backgroundPosition");if("backgroundPosition"!==b||!a.currentStyle||a.currentStyle[b])return d.apply(this,arguments);var e=a.style;return!c&&e&&e[b]?e[b]:d(a,"backgroundPositionX",c)+" "+d(a,"backgroundPositionY",c)}}var g=c.fn.animate;c.fn.animate=function(a){if("background-position"in a)a.backgroundPosition=a["background-position"],delete a["background-position"];if("backgroundPosition"in a)a.backgroundPosition="("+a.backgroundPosition;return g.apply(this,arguments)};c.fx.step.backgroundPosition=function(a){if(!a.bgPosReady){var b=c.css(a.elem,"backgroundPosition");b||(b="0px 0px");b=f(b);a.start=[b[0],b[2]];b=f(a.end);a.end=[b[0],b[2]];a.unit=[b[1],b[3]];a.bgPosReady=!0}b=[];b[0]=(a.end[0]-a.start[0])*a.pos+a.start[0]+a.unit[0];b[1]=(a.end[1]-a.start[1])*a.pos+a.start[1]+a.unit[1];a.elem.style.backgroundPosition=b[0]+" "+b[1]}})(jQuery);jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}});(function(e){function i(){if(r)return;t=e(window);n=t.height();t.resize(function(){n=t.height()});r=true}function s(){if(!window.getComputedStyle){return false}var e=document.createElement("div"),t,n={webkitTransform:"-webkit-transform",transform:"transform"};document.body.insertBefore(e,null);for(var r in n){if(e.style[r]!==undefined){e.style[r]="translate3d(1px,1px,1px)";t=window.getComputedStyle(e).getPropertyValue(n[r])}}document.body.removeChild(e);return t!==undefined&&t.length>0&&t!=="none"}var t,n;var r=false;e.fn.omParallax=function(r){function o(){var i=t.scrollTop();u.each(function(t){var s=e(this);var o=(new Date).getTime();var u=s.data("omLastDimensions");if(!u||o-u>2e3){s.data("omTop",s.offset().top);s.data("omHeight",f(s));s.data("omLastDimensions",o)}var c=s.data("omTop");var h=s.data("omHeight");if(c+h<i||c>i+n){return}var p=s.data("parallax-direction");if(p!="up"&&p!="down")p="up";var d=(i-(c-n))/(h+n);var v;if(p=="up")v=-Math.round(d*r.offset);else if(p=="down")v=-Math.round((1-d)*r.offset);l(a[t],v+"px")})}r=e.extend({offset:400,getOuterHeight:false,disableOnMobile:true},r);if(r.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){e(this).find(".om-parallax-inner").css("padding-bottom","0");return false}i();var u=e(this);var a=[];u.each(function(t){a[t]=e(this).find(".om-parallax-inner").css("padding-bottom",r.offset+"px")});var f;if(r.getOuterHeight){f=function(e){return e.outerHeight(true)}}else{f=function(e){return e.height()}}var l;if(s()){l=function(e,t){e.css({webkitTransform:"translate3d(0,"+t+",0)",transform:"translate3d(0,"+t+",0)"})}}else{l=function(e,t){e.css({top:t})}}var c=false;var h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){if(!c){c=true;window.setTimeout(function(){c=false;e()},16)}};t.bind("scroll resize",function(){h(o)});o()}})(jQuery);
;/*
 * jQuery Superfish Menu Plugin - v1.7.4
 * Small tweaks to 'show' and 'hide' methods by Olevmedia
 * Copyright (c) 2013 Joel Birch
 *
 * Dual licensed under the MIT and GPL licenses:
 *	http://www.opensource.org/licenses/mit-license.php
 *	http://www.gnu.org/licenses/gpl.html
 */

(function(d){var h=function(){var f=function(){var b=/iPhone|iPad|iPod/i.test(navigator.userAgent);b&&d(window).load(function(){d("body").children().on("click",d.noop)});return b}(),h=function(){var b=document.documentElement.style;return"behavior"in b&&"fill"in b&&/iemobile/i.test(navigator.userAgent)}(),m=function(b,a){var c="sf-js-enabled";a.cssArrows&&(c+=" sf-arrows");b.toggleClass(c)},q=function(b,a){return b.find("li."+a.pathClass).slice(0,a.pathLevels).addClass(a.hoverClass+" sf-breadcrumb").filter(function(){return d(this).children(a.popUpSelector).hide().show().length}).removeClass(a.pathClass)}, n=function(b){var a=b.css("ms-touch-action");b.css("ms-touch-action","pan-y"===a?"auto":"pan-y")},r=function(b){var a=d(this),c=a.siblings(b.data.popUpSelector);0<c.length&&c.is(":hidden")&&(a.one("click.superfish",!1),"MSPointerDown"===b.type?a.trigger("focus"):d.proxy(k,a.parent("li"))())},k=function(){var b=d(this),a=g(b);clearTimeout(a.sfTimer);b.siblings().superfish("hide").end().superfish("show")},l=function(){var b=d(this),a=g(b);f?d.proxy(p,b,a)():(clearTimeout(a.sfTimer),a.sfTimer=setTimeout(d.proxy(p, b,a),a.delay))},p=function(b){b.retainPath=-1<d.inArray(this[0],b.$path);this.superfish("hide");this.parents("."+b.hoverClass).length||(b.onIdle.call(this.closest(".sf-js-enabled")),b.$path.length&&d.proxy(k,b.$path)())},g=function(b){return b.closest(".sf-js-enabled").data("sf-options")};return{hide:function(b){if(this.length){var a=this,c=g(a);if(!c)return this;var f=!0===c.retainPath?c.$path:"",e=a.find("li."+c.hoverClass).add(this).not(f).removeClass(c.hoverClass).children(c.popUpSelector),a= c.speedOut;b&&(e.show(),a=0);c.retainPath=!1;c.onBeforeHide.call(e);a?jQuery.isEmptyObject(c.animationOut)?(e.stop(!0,!0),e.data("sf-hide-timer",setTimeout(function(){e.hide();var a=d(this);c.onHide.call(a)},a))):e.stop(!0,!0).animate(c.animationOut,a,function(){var a=d(this);c.onHide.call(a)}):(e.stop(!0,!0).hide(),a=d(this),c.onHide.call(a))}return this},show:function(){var b=g(this);if(!b)return this;var a=this.addClass(b.hoverClass).children(b.popUpSelector);b.onBeforeShow.call(a);a.data("sf-hide-timer")&& clearTimeout(a.data("sf-hide-timer"));b.speed?a.stop(!0,!0).animate(b.animation,b.speed,function(){b.onShow.call(a)}):a.stop(!0,!0).show(0,function(){b.onShow.call(a)});return this},destroy:function(){return this.each(function(){var b=d(this),a=b.data("sf-options"),c;if(!a)return!1;c=b.find(a.popUpSelector).parent("li");clearTimeout(a.sfTimer);m(b,a);c.children("a").toggleClass("sf-with-ul");n(b);b.off(".superfish").off(".hoverIntent");c.children(a.popUpSelector).attr("style",function(a,b){return b.replace(/display[^;]+;?/g, "")});a.$path.removeClass(a.hoverClass+" sf-breadcrumb").addClass(a.pathClass);b.find("."+a.hoverClass).removeClass(a.hoverClass);a.onDestroy.call(b);b.removeData("sf-options")})},init:function(b){return this.each(function(){var a=d(this);if(a.data("sf-options"))return!1;var c=d.extend({},d.fn.superfish.defaults,b),g=a.find(c.popUpSelector).parent("li");c.$path=q(a,c);a.data("sf-options",c);m(a,c);g.children("a").toggleClass("sf-with-ul");n(a);var e="li:has("+c.popUpSelector+")";if(d.fn.hoverIntent&& !c.disableHI)a.hoverIntent(k,l,e);else a.on("mouseenter.superfish",e,k).on("mouseleave.superfish",e,l);e="MSPointerDown.superfish";f||(e+=" touchend.superfish");h&&(e+=" mousedown.superfish");a.on("focusin.superfish","li",k).on("focusout.superfish","li",l).on(e,"a",c,r);g.not(".sf-breadcrumb").superfish("hide",!0);c.onInit.call(this)})}}}();d.fn.superfish=function(f,s){return h[f]?h[f].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof f&&f?d.error("Method "+f+" does not exist on jQuery.fn.superfish"): h.init.apply(this,arguments)};d.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:d.noop,onBeforeShow:d.noop,onShow:d.noop,onBeforeHide:d.noop,onHide:d.noop,onIdle:d.noop,onDestroy:d.noop};d.fn.extend({hideSuperfishUl:h.hide,showSuperfishUl:h.show})})(jQuery);

;/*
 * jQuery omSlider Plugin
 * Copyright (c) 2012 Strelkey, www.olevmedia.com
 * Version: 1.2.5
 */

;(function(e){function k(g,b,a,d){e(b).stop(!0,!0);a.resize&&g.stop(!0,!0);d=a.currSlide+d;d>b.length-1?d=0:0>d&&(d=b.length-1);e.isFunction(a.before)&&a.before(b[a.currSlide],b[d],a.currSlide,d);l(g,b,a,d)}function l(g,b,a,d){if(d!=a.currSlide){m(a.pager,d);e(b).stop(!0,!0);a.resize&&g.stop(!0,!0);var f=a.currSlide;a.currSlide=d;e(b[f]).css("z-index","1").removeClass("active");a.fadePrev&&e(b[f]).fadeTo(a.speed,0);e(b[d]).fadeTo(0,0).css({position:"absolute",top:0,left:0,right:0,zIndex:2}).addClass("active").fadeTo(a.speed, 1,function(){e(b[f]).hide();e(this).css({position:"static"});!a.resize&&e.isFunction(a.after)&&a.after(b[a.currSlide],b[d],a.currSlide,d)});if(a.resize){var c=e(b[d]).outerHeight();g.css("height",g.height()+"px").animate({height:c+"px"},a.speed,function(){e(this).css("height","auto");e.isFunction(a.after)&&a.after(b[a.currSlide],b[d],a.currSlide,d)})}}}function n(g,b,a){var d=e(a.pager);d.empty();for(var f,c=0;c<b.length;c++)f=e.isFunction(a.pagerAnchorBuilder)?a.pagerAnchorBuilder(c):'<a href="#">'+ (c+1)+"</a>",f=e(f),f.data("index",c),f.click(function(c){c.preventDefault();l(g,b,a,e(this).data("index"))}).appendTo(d);m(a.pager,a.currSlide)}function m(g,b){e(g).each(function(){e(this).children().removeClass("active").eq(b).addClass("active")})}e.fn.omSlider=function(g){return this.each(function(){g=g||{};var b=e(this),a,d=b.children(),f=d.get();if(!(2>f.length)){var c=e.extend({},e.fn.omSlider.defaults,g);"absolute"==b.css("position")?!0:b.css("position","relative");b.css("overflow","hidden"); d.filter(":eq("+c.active+")").length?(d.filter(":eq("+c.active+")").addClass("active").show(),d.filter(":not(:eq("+c.active+"))").hide(),c.currSlide=c.active):(d.filter(":first").addClass("active").show(),d.filter(":gt(0)").hide(),c.currSlide=0);e.isFunction(c.before)&&c.before(null,f[c.currSlide],null,c.currSlide);c.prev&&e(c.prev).bind("click",function(a){a.preventDefault();k(b,f,c,-1)});c.next&&e(c.next).bind("click",function(a){a.preventDefault();k(b,f,c,1)});c.pager&&n(b,f,c);c.timeout&&(a=setInterval(function(){k(b, f,c,1)},c.timeout));c.timeout&&c.pause&&b.mouseenter(function(){clearInterval(a)}).mouseleave(function(){a=setInterval(function(){k(b,f,c,1)},c.timeout)});var h=-1;b.bind("touchstart",function(a){h=(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]).pageX});b.bind("touchmove",function(a){0<=h&&(a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],30<a.pageX-h?(k(b,f,c,-1),h=-1):-30>a.pageX-h&&(k(b,f,c,1),h=-1))});e(document).bind("touchend",function(){h=-1})}})};e.fn.omSlider.defaults= {speed:1E3,next:null,prev:null,pager:null,pagerAnchorBuilder:null,resize:!0,fadePrev:!1,before:null,after:null,active:0,timeout:0,pause:0}})(jQuery);
;/*! Lazy Load 1.9.3 - MIT license - Copyright 2010-2013 Mika Tuupola */
!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);
;/*!
 * Isotope PACKAGED v2.0.1
 * Filter & sort magical layouts
 * http://isotope.metafizzy.co
 *
 * Few modifications added: beforeLayout && beforeAnimation events added, IsotopeOm is renamed to IsotopeOm
 */

/**
 * Bridget makes jQuery widgets
 * v1.0.1
 */

(function(e){function n(){}function r(e){function r(t){if(t.prototype.option){return}t.prototype.option=function(t){if(!e.isPlainObject(t)){return}this.options=e.extend(true,this.options,t)}}function s(n,r){e.fn[n]=function(s){if(typeof s==="string"){var o=t.call(arguments,1);for(var u=0,a=this.length;u<a;u++){var f=this[u];var l=e.data(f,n);if(!l){i("cannot call methods on "+n+" prior to initialization; "+"attempted to call '"+s+"'");continue}if(!e.isFunction(l[s])||s.charAt(0)==="_"){i("no such method '"+s+"' for "+n+" instance");continue}var c=l[s].apply(l,o);if(c!==undefined){return c}}return this}else{return this.each(function(){var t=e.data(this,n);if(t){t.option(s);t._init()}else{t=new r(this,s);e.data(this,n,t)}})}}}if(!e){return}var i=typeof console==="undefined"?n:function(e){console.error(e)};e.bridget=function(e,t){r(t);s(e,t)};return e.bridget}var t=Array.prototype.slice;if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],r)}else{r(e.jQuery)}})(window);(function(e){function r(t){var n=e.event;n.target=n.target||n.srcElement||t;return n}var t=document.documentElement;var n=function(){};if(t.addEventListener){n=function(e,t,n){e.addEventListener(t,n,false)}}else if(t.attachEvent){n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=r(e);n.handleEvent.call(n,t)}:function(){var t=r(e);n.call(e,t)};e.attachEvent("on"+t,e[t+n])}}var i=function(){};if(t.removeEventListener){i=function(e,t,n){e.removeEventListener(t,n,false)}}else if(t.detachEvent){i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}}}var s={bind:n,unbind:i};if(typeof define==="function"&&define.amd){define("eventie/eventie",s)}else if(typeof exports==="object"){module.exports=s}else{e.eventie=s}})(this);(function(e){function r(e){if(typeof e!=="function"){return}if(r.isReady){e()}else{n.push(e)}}function i(e){var i=e.type==="readystatechange"&&t.readyState!=="complete";if(r.isReady||i){return}r.isReady=true;for(var s=0,o=n.length;s<o;s++){var u=n[s];u()}}function s(n){n.bind(t,"DOMContentLoaded",i);n.bind(t,"readystatechange",i);n.bind(e,"load",i);return r}var t=e.document;var n=[];r.isReady=false;if(typeof define==="function"&&define.amd){r.isReady=typeof requirejs==="function";define("doc-ready/doc-ready",["eventie/eventie"],s)}else{e.docReady=s(e.eventie)}})(this);(function(){function e(){}function i(e,t){var n=e.length;while(n--){if(e[n].listener===t){return n}}return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var t=e.prototype;var n=this;var r=n.EventEmitter;t.getListeners=function(t){var n=this._getEvents();var r;var i;if(t instanceof RegExp){r={};for(i in n){if(n.hasOwnProperty(i)&&t.test(i)){r[i]=n[i]}}}else{r=n[t]||(n[t]=[])}return r};t.flattenListeners=function(t){var n=[];var r;for(r=0;r<t.length;r+=1){n.push(t[r].listener)}return n};t.getListenersAsObject=function(t){var n=this.getListeners(t);var r;if(n instanceof Array){r={};r[t]=n}return r||n};t.addListener=function(t,n){var r=this.getListenersAsObject(t);var s=typeof n==="object";var o;for(o in r){if(r.hasOwnProperty(o)&&i(r[o],n)===-1){r[o].push(s?n:{listener:n,once:false})}}return this};t.on=s("addListener");t.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:true})};t.once=s("addOnceListener");t.defineEvent=function(t){this.getListeners(t);return this};t.defineEvents=function(t){for(var n=0;n<t.length;n+=1){this.defineEvent(t[n])}return this};t.removeListener=function(t,n){var r=this.getListenersAsObject(t);var s;var o;for(o in r){if(r.hasOwnProperty(o)){s=i(r[o],n);if(s!==-1){r[o].splice(s,1)}}}return this};t.off=s("removeListener");t.addListeners=function(t,n){return this.manipulateListeners(false,t,n)};t.removeListeners=function(t,n){return this.manipulateListeners(true,t,n)};t.manipulateListeners=function(t,n,r){var i;var s;var o=t?this.removeListener:this.addListener;var u=t?this.removeListeners:this.addListeners;if(typeof n==="object"&&!(n instanceof RegExp)){for(i in n){if(n.hasOwnProperty(i)&&(s=n[i])){if(typeof s==="function"){o.call(this,i,s)}else{u.call(this,i,s)}}}}else{i=r.length;while(i--){o.call(this,n,r[i])}}return this};t.removeEvent=function(t){var n=typeof t;var r=this._getEvents();var i;if(n==="string"){delete r[t]}else if(t instanceof RegExp){for(i in r){if(r.hasOwnProperty(i)&&t.test(i)){delete r[i]}}}else{delete this._events}return this};t.removeAllListeners=s("removeEvent");t.emitEvent=function(t,n){var r=this.getListenersAsObject(t);var i;var s;var o;var u;for(o in r){if(r.hasOwnProperty(o)){s=r[o].length;while(s--){i=r[o][s];if(i.once===true){this.removeListener(t,i.listener)}u=i.listener.apply(this,n||[]);if(u===this._getOnceReturnValue()){this.removeListener(t,i.listener)}}}}return this};t.trigger=s("emitEvent");t.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)};t.setOnceReturnValue=function(t){this._onceReturnValue=t;return this};t._getOnceReturnValue=function(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};t._getEvents=function(){return this._events||(this._events={})};e.noConflict=function(){n.EventEmitter=r;return e};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return e})}else if(typeof module==="object"&&module.exports){module.exports=e}else{this.EventEmitter=e}}).call(this);(function(e){function r(e){if(!e){return}if(typeof n[e]==="string"){return e}e=e.charAt(0).toUpperCase()+e.slice(1);var r;for(var i=0,s=t.length;i<s;i++){r=t[i]+e;if(typeof n[r]==="string"){return r}}}var t="Webkit Moz ms Ms O".split(" ");var n=document.documentElement.style;if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return r})}else if(typeof exports==="object"){module.exports=r}else{e.getStyleProperty=r}})(window);(function(e,t){function i(e){var t=parseFloat(e);var n=e.indexOf("%")===-1&&!isNaN(t);return n&&t}function o(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0,n=s.length;t<n;t++){var r=s[t];e[r]=0}return e}function u(e){function a(e){if(typeof e==="string"){e=document.querySelector(e)}if(!e||typeof e!=="object"||!e.nodeType){return}var n=r(e);if(n.display==="none"){return o()}var a={};a.width=e.offsetWidth;a.height=e.offsetHeight;var l=a.isBorderBox=!!(t&&n[t]&&n[t]==="border-box");for(var c=0,h=s.length;c<h;c++){var p=s[c];var d=n[p];d=f(e,d);var v=parseFloat(d);a[p]=!isNaN(v)?v:0}var m=a.paddingLeft+a.paddingRight;var g=a.paddingTop+a.paddingBottom;var y=a.marginLeft+a.marginRight;var b=a.marginTop+a.marginBottom;var w=a.borderLeftWidth+a.borderRightWidth;var E=a.borderTopWidth+a.borderBottomWidth;var S=l&&u;var x=i(n.width);if(x!==false){a.width=x+(S?0:m+w)}var T=i(n.height);if(T!==false){a.height=T+(S?0:g+E)}a.innerWidth=a.width-(m+w);a.innerHeight=a.height-(g+E);a.outerWidth=a.width+y;a.outerHeight=a.height+b;return a}function f(e,t){if(n||t.indexOf("%")===-1){return t}var r=e.style;var i=r.left;var s=e.runtimeStyle;var o=s&&s.left;if(o){s.left=e.currentStyle.left}r.left=t;t=r.pixelLeft;r.left=i;if(o){s.left=o}return t}var t=e("boxSizing");var u;(function(){if(!t){return}var e=document.createElement("div");e.style.width="200px";e.style.padding="1px 2px 3px 4px";e.style.borderStyle="solid";e.style.borderWidth="1px 2px 3px 4px";e.style[t]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var s=r(e);u=i(s.width)===200;n.removeChild(e)})();return a}var n=e.getComputedStyle;var r=n?function(e){return n(e,null)}:function(e){return e.currentStyle};var s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],u)}else if(typeof exports==="object"){module.exports=u(require("get-style-property"))}else{e.getSize=u(e.getStyleProperty)}})(window);(function(e,t){function r(e,t){return e[n](t)}function i(e){if(e.parentNode){return}var t=document.createDocumentFragment();t.appendChild(e)}function s(e,t){i(e);var n=e.parentNode.querySelectorAll(t);for(var r=0,s=n.length;r<s;r++){if(n[r]===e){return true}}return false}function o(e,t){i(e);return r(e,t)}var n=function(){if(t.matchesSelector){return"matchesSelector"}var e=["webkit","moz","ms","o"];for(var n=0,r=e.length;n<r;n++){var i=e[n];var s=i+"MatchesSelector";if(t[s]){return s}}}();var u;if(n){var a=document.createElement("div");var f=r(a,"div");u=f?r:o}else{u=s}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return u})}else{window.matchesSelector=u}})(this,Element.prototype);(function(e){function r(e,t){for(var n in t){e[n]=t[n]}return e}function i(e){for(var t in e){return false}t=null;return true}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function o(e,t,o){function d(e,t){if(!e){return}this.element=e;this.layout=t;this.position={x:0,y:0};this._create()}var u=o("transition");var a=o("transform");var f=u&&a;var l=!!o("perspective");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u];var h=["transform","transition","transitionDuration","transitionProperty"];var p=function(){var e={};for(var t=0,n=h.length;t<n;t++){var r=h[t];var i=o(r);if(i&&i!==r){e[r]=i}}return e}();r(d.prototype,e.prototype);d.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};d.prototype.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}};d.prototype.getSize=function(){this.size=t(this.element)};d.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=p[n]||n;t[r]=e[n]}};d.prototype.getPosition=function(){var e=n(this.element);var t=this.layout.options;var r=t.isOriginLeft;var i=t.isOriginTop;var s=parseInt(e[r?"left":"right"],10);var o=parseInt(e[i?"top":"bottom"],10);s=isNaN(s)?0:s;o=isNaN(o)?0:o;var u=this.layout.size;s-=r?u.paddingLeft:u.paddingRight;o-=i?u.paddingTop:u.paddingBottom;this.position.x=s;this.position.y=o};d.prototype.layoutPosition=function(){var e=this.layout.size;var t=this.layout.options;var n={};if(t.isOriginLeft){n.left=this.position.x+e.paddingLeft+"px";n.right=""}else{n.right=this.position.x+e.paddingRight+"px";n.left=""}if(t.isOriginTop){n.top=this.position.y+e.paddingTop+"px";n.bottom=""}else{n.bottom=this.position.y+e.paddingBottom+"px";n.top=""}this.css(n);this.emitEvent("layout",[this])};var v=l?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};d.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x;var r=this.position.y;var i=parseInt(e,10);var s=parseInt(t,10);var o=i===this.position.x&&s===this.position.y;this.setPosition(e,t);if(o&&!this.isTransitioning){this.layoutPosition();return}var u=e-n;var a=t-r;var f={};var l=this.layout.options;u=l.isOriginLeft?u:-u;a=l.isOriginTop?a:-a;f.transform=v(u,a);this.transition({to:f,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};d.prototype.goTo=function(e,t){this.setPosition(e,t);this.layoutPosition()};d.prototype.moveTo=f?d.prototype._transitionTo:d.prototype.goTo;d.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10);this.position.y=parseInt(t,10)};d.prototype._nonTransition=function(e){this.css(e.to);if(e.isCleaning){this._removeStyles(e.to)}for(var t in e.onTransitionEnd){e.onTransitionEnd[t].call(this)}};d.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(e);return}var t=this._transn;for(var n in e.onTransitionEnd){t.onEnd[n]=e.onTransitionEnd[n]}for(n in e.to){t.ingProperties[n]=true;if(e.isCleaning){t.clean[n]=true}}if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to);this.css(e.to);this.isTransitioning=true};var m=a&&s(a)+",opacity";d.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(c,this,false)};d.prototype.transition=d.prototype[u?"_transition":"_nonTransition"];d.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)};d.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};d.prototype.ontransitionend=function(e){if(e.target!==this.element){return}var t=this._transn;var n=g[e.propertyName]||e.propertyName;delete t.ingProperties[n];if(i(t.ingProperties)){this.disableTransition()}if(n in t.clean){this.element.style[e.propertyName]="";delete t.clean[n]}if(n in t.onEnd){var r=t.onEnd[n];r.call(this);delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])};d.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(c,this,false);this.isTransitioning=false};d.prototype._removeStyles=function(e){var t={};for(var n in e){t[n]=""}this.css(t)};var y={transitionProperty:"",transitionDuration:""};d.prototype.removeTransitionStyles=function(){this.css(y)};d.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};d.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var e=this;this.on("transitionEnd",function(){e.removeElem();return true});this.hide()};d.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:true})};d.prototype.hide=function(){this.isHidden=true;this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){if(this.isHidden){this.css({display:"none"})}}}})};d.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return d}var t=e.getComputedStyle;var n=t?function(e){return t(e,null)}:function(e){return e.currentStyle};if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o)}else{e.Outlayer={};e.Outlayer.Item=o(e.EventEmitter,e.getSize,e.getStyleProperty)}})(window);(function(e){function s(e,t){for(var n in t){e[n]=t[n]}return e}function u(e){return o.call(e)==="[object Array]"}function a(e){var t=[];if(u(e)){t=e}else if(e&&typeof e.length==="number"){for(var n=0,r=e.length;n<r;n++){t.push(e[n])}}else{t.push(e)}return t}function c(e,t){var n=l(t,e);if(n!==-1){t.splice(n,1)}}function h(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function p(o,u,l,p,d,v){function y(e,r){if(typeof e==="string"){e=t.querySelector(e)}if(!e||!f(e)){if(n){n.error("Bad "+this.constructor.namespace+" element: "+e)}return}this.element=e;this.options=s({},this.constructor.defaults);this.option(r);var i=++m;this.element.outlayerGUID=i;g[i]=this;this._create();if(this.options.isInitLayout){this.layout()}}var m=0;var g={};y.namespace="outlayer";y.Item=v;y.defaults={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,isResizingContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};s(y.prototype,l.prototype);y.prototype.option=function(e){s(this.options,e)};y.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);s(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};y.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};y.prototype._itemize=function(e){var t=this._filterFindItemElements(e);var n=this.constructor.Item;var r=[];for(var i=0,s=t.length;i<s;i++){var o=t[i];var u=new n(o,this);r.push(u)}return r};y.prototype._filterFindItemElements=function(e){e=a(e);var t=this.options.itemSelector;var n=[];for(var r=0,i=e.length;r<i;r++){var s=e[r];if(!f(s)){continue}if(t){if(d(s,t)){n.push(s)}var o=s.querySelectorAll(t);for(var u=0,l=o.length;u<l;u++){n.push(o[u])}}else{n.push(s)}}return n};y.prototype.getItemElements=function(){var e=[];for(var t=0,n=this.items.length;t<n;t++){e.push(this.items[t].element)}return e};y.prototype.layout=function(){this._resetLayout();this._manageStamps();var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e);this._isLayoutInited=true};y.prototype._init=y.prototype.layout;y.prototype._resetLayout=function(){this.getSize()};y.prototype.getSize=function(){this.size=p(this.element)};y.prototype._getMeasurement=function(e,t){var n=this.options[e];var r;if(!n){this[e]=0}else{if(typeof n==="string"){r=this.element.querySelector(n)}else if(f(n)){r=n}this[e]=r?p(r)[t]:n}};y.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e);this._layoutItems(e,t);this._postLayout()};y.prototype._getItemsForLayout=function(e){var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n];if(!i.isIgnored){t.push(i)}}return t};y.prototype._layoutItems=function(e,t){function r(){n.emitEvent("layoutComplete",[n,e])}var n=this;if(!e||!e.length){r();return}this._itemsOn(e,"layout",r);n.emitEvent("beforeLayout",[n,e]);var i=[];for(var s=0,o=e.length;s<o;s++){var u=e[s];var a=this._getItemLayoutPosition(u);a.item=u;a.isInstant=t||u.isLayoutInstant;i.push(a)}this._processLayoutQueue(i);n.emitEvent("beforeAnimation",[n,e])};y.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};y.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}};y.prototype._positionItem=function(e,t,n,r){if(r){e.goTo(t,n)}else{e.moveTo(t,n)}};y.prototype._postLayout=function(){this.resizeContainer()};y.prototype.resizeContainer=function(){if(!this.options.isResizingContainer){return}var e=this._getContainerSize();if(e){this._setContainerMeasure(e.width,true);this._setContainerMeasure(e.height,false)}};y.prototype._getContainerSize=i;y.prototype._setContainerMeasure=function(e,t){if(e===undefined){return}var n=this.size;if(n.isBorderBox){e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth}e=Math.max(e,0);this.element.style[t?"width":"height"]=e+"px"};y.prototype._itemsOn=function(e,t,n){function o(){r++;if(r===i){n.call(s)}return true}var r=0;var i=e.length;var s=this;for(var u=0,a=e.length;u<a;u++){var f=e[u];f.on(t,o)}};y.prototype.ignore=function(e){var t=this.getItem(e);if(t){t.isIgnored=true}};y.prototype.unignore=function(e){var t=this.getItem(e);if(t){delete t.isIgnored}};y.prototype.stamp=function(e){e=this._find(e);if(!e){return}this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;t<n;t++){var r=e[t];this.ignore(r)}};y.prototype.unstamp=function(e){e=this._find(e);if(!e){return}for(var t=0,n=e.length;t<n;t++){var r=e[t];c(r,this.stamps);this.unignore(r)}};y.prototype._find=function(e){if(!e){return}if(typeof e==="string"){e=this.element.querySelectorAll(e)}e=a(e);return e};y.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var e=0,t=this.stamps.length;e<t;e++){var n=this.stamps[e];this._manageStamp(n)}};y.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect();var t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}};y.prototype._manageStamp=i;y.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect();var n=this._boundingRect;var r=p(e);var i={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return i};y.prototype.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}};y.prototype.bindResize=function(){if(this.isResizeBound){return}o.bind(e,"resize",this);this.isResizeBound=true};y.prototype.unbindResize=function(){if(this.isResizeBound){o.unbind(e,"resize",this)}this.isResizeBound=false};y.prototype.onresize=function(){function t(){e.resize();delete e.resizeTimeout}if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var e=this;this.resizeTimeout=setTimeout(t,100)};y.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};y.prototype.needsResizeLayout=function(){var e=p(this.element);var t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth};y.prototype.addItems=function(e){var t=this._itemize(e);if(t.length){this.items=this.items.concat(t)}return t};y.prototype.appended=function(e){var t=this.addItems(e);if(!t.length){return}this.layoutItems(t,true);this.reveal(t)};y.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length){return}var n=this.items.slice(0);this.items=t.concat(n);this._resetLayout();this._manageStamps();this.layoutItems(t,true);this.reveal(t);this.layoutItems(n)};y.prototype.reveal=function(e){var t=e&&e.length;if(!t){return}for(var n=0;n<t;n++){var r=e[n];r.reveal()}};y.prototype.hide=function(e){var t=e&&e.length;if(!t){return}for(var n=0;n<t;n++){var r=e[n];r.hide()}};y.prototype.getItem=function(e){for(var t=0,n=this.items.length;t<n;t++){var r=this.items[t];if(r.element===e){return r}}};y.prototype.getItems=function(e){if(!e||!e.length){return}var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n];var s=this.getItem(i);if(s){t.push(s)}}return t};y.prototype.remove=function(e){e=a(e);var t=this.getItems(e);if(!t||!t.length){return}this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,r=t.length;n<r;n++){var i=t[n];i.remove();c(i,this.items)}};y.prototype.destroy=function(){var e=this.element.style;e.height="";e.position="";e.width="";for(var t=0,n=this.items.length;t<n;t++){var i=this.items[t];i.destroy()}this.unbindResize();delete this.element.outlayerGUID;if(r){r.removeData(this.element,this.constructor.namespace)}};y.data=function(e){var t=e&&e.outlayerGUID;return t&&g[t]};y.create=function(e,i){function o(){y.apply(this,arguments)}if(Object.create){o.prototype=Object.create(y.prototype)}else{s(o.prototype,y.prototype)}o.prototype.constructor=o;o.defaults=s({},y.defaults);s(o.defaults,i);o.prototype.settings={};o.namespace=e;o.data=y.data;o.Item=function(){v.apply(this,arguments)};o.Item.prototype=new v;u(function(){var i=h(e);var s=t.querySelectorAll(".js-"+i);var u="data-"+i+"-options";for(var a=0,f=s.length;a<f;a++){var l=s[a];var c=l.getAttribute(u);var p;try{p=c&&JSON.parse(c)}catch(d){if(n){n.error("Error parsing "+u+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+d)}continue}var v=new o(l,p);if(r){r.data(l,e,v)}}});if(r&&r.bridget){r.bridget(e,o)}return o};y.Item=v;return y}var t=e.document;var n=e.console;var r=e.jQuery;var i=function(){};var o=Object.prototype.toString;var f=typeof HTMLElement==="object"?function(t){return t instanceof HTMLElement}:function(t){return t&&typeof t==="object"&&t.nodeType===1&&typeof t.nodeName==="string"};var l=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1};if(typeof define==="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],p)}else{e.Outlayer=p(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}})(window);(function(e){function t(e){function t(){e.Item.apply(this,arguments)}t.prototype=new e.Item;t.prototype._create=function(){this.id=this.layout.itemGUID++;e.Item.prototype._create.call(this);this.sortData={}};t.prototype.updateSortData=function(){if(this.isIgnored){return}this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var e=this.layout.options.getSortData;var t=this.layout._sorters;for(var n in e){var r=t[n];this.sortData[n]=r(this.element,this)}};var n=t.prototype.destroy;t.prototype.destroy=function(){n.apply(this,arguments);this.css({display:""})};return t}if(typeof define==="function"&&define.amd){define("isotopeOm/js/item",["outlayer/outlayer"],t)}else{e.IsotopeOm=e.IsotopeOm||{};e.IsotopeOm.Item=t(e.Outlayer)}})(window);(function(e){function t(e,t){function n(e){this.isotopeOm=e;if(e){this.options=e.options[this.namespace];this.element=e.element;this.items=e.filteredItems;this.size=e.size}}(function(){function o(e){return function(){return t.prototype[e].apply(this.isotopeOm,arguments)}}var e=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"];for(var r=0,i=e.length;r<i;r++){var s=e[r];n.prototype[s]=o(s)}})();n.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotopeOm.element);var n=this.isotopeOm.size&&t;return n&&t.innerHeight!==this.isotopeOm.size.innerHeight};n.prototype._getMeasurement=function(){this.isotopeOm._getMeasurement.apply(this,arguments)};n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")};n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")};n.prototype.getSegmentSize=function(e,t){var n=e+t;var r="outer"+t;this._getMeasurement(n,r);if(this[n]){return}var i=this.getFirstItemSize();this[n]=i&&i[r]||this.isotopeOm.size["inner"+t]};n.prototype.getFirstItemSize=function(){var t=this.isotopeOm.filteredItems[0];return t&&t.element&&e(t.element)};n.prototype.layout=function(){this.isotopeOm.layout.apply(this.isotopeOm,arguments)};n.prototype.getSize=function(){this.isotopeOm.getSize();this.size=this.isotopeOm.size};n.modes={};n.create=function(e,t){function r(){n.apply(this,arguments)}r.prototype=new n;if(t){r.options=t}r.prototype.namespace=e;n.modes[e]=r;return r};return n}if(typeof define==="function"&&define.amd){define("isotopeOm/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t)}else{e.IsotopeOm=e.IsotopeOm||{};e.IsotopeOm.LayoutMode=t(e.getSize,e.Outlayer)}})(window);(function(e){function n(e,n){var r=e.create("masonry");r.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var e=this.cols;this.colYs=[];while(e--){this.colYs.push(0)}this.maxY=0};r.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var e=this.items[0];var t=e&&e.element;this.columnWidth=t&&n(t).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element;var t=n(e);this.containerWidth=t&&t.innerWidth};r.prototype._getItemLayoutPosition=function(e){e.getSize();var n=e.size.outerWidth%this.columnWidth;var r=n&&n<1?"round":"ceil";var i=Math[r](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);var s=this._getColGroup(i);var o=Math.min.apply(Math,s);var u=t(s,o);var a={x:this.columnWidth*u,y:o};var f=o+e.size.outerHeight;var l=this.cols+1-s.length;for(var c=0;c<l;c++){this.colYs[u+c]=f}return a};r.prototype._getColGroup=function(e){if(e<2){return this.colYs}var t=[];var n=this.cols+1-e;for(var r=0;r<n;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t};r.prototype._manageStamp=function(e){var t=n(e);var r=this._getElementOffset(e);var i=this.options.isOriginLeft?r.left:r.right;var s=i+t.outerWidth;var o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1;u=Math.min(this.cols-1,u);var a=(this.options.isOriginTop?r.top:r.bottom)+t.outerHeight;for(var f=o;f<=u;f++){this.colYs[f]=Math.max(a,this.colYs[f])}};r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};if(this.options.isFitWidth){e.width=this._getContainerFitWidth()}return e};r.prototype._getContainerFitWidth=function(){var e=0;var t=this.cols;while(--t){if(this.colYs[t]!==0){break}e++}return(this.cols-e)*this.columnWidth-this.gutter};r.prototype.needsResizeLayout=function(){var e=this.containerWidth;this.getContainerWidth();return e!==this.containerWidth};return r}var t=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i===t){return n}}return-1};if(typeof define==="function"&&define.amd){define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],n)}else{e.Masonry=n(e.Outlayer,e.getSize)}})(window);(function(e){function t(e,t){for(var n in t){e[n]=t[n]}return e}function n(e,n){var r=e.create("masonry");var i=r.prototype._getElementOffset;var s=r.prototype.layout;var o=r.prototype._getMeasurement;t(r.prototype,n.prototype);r.prototype._getElementOffset=i;r.prototype.layout=s;r.prototype._getMeasurement=o;var u=r.prototype.measureColumns;r.prototype.measureColumns=function(){this.items=this.isotopeOm.filteredItems;u.call(this)};var a=r.prototype._manageStamp;r.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotopeOm.options.isOriginLeft;this.options.isOriginTop=this.isotopeOm.options.isOriginTop;a.apply(this,arguments)};return r}if(typeof define==="function"&&define.amd){define("isotopeOm/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],n)}else{n(e.IsotopeOm.LayoutMode,e.Masonry)}})(window);(function(e){function t(e){var t=e.create("fitRows");t.prototype._resetLayout=function(){this.x=0;this.y=0;this.maxY=0};t.prototype._getItemLayoutPosition=function(e){e.getSize();if(this.x!==0&&e.size.outerWidth+this.x>this.isotopeOm.size.innerWidth){this.x=0;this.y=this.maxY}var t={x:this.x,y:this.y};this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight);this.x+=e.size.outerWidth;return t};t.prototype._getContainerSize=function(){return{height:this.maxY}};return t}if(typeof define==="function"&&define.amd){define("isotopeOm/js/layout-modes/fit-rows",["../layout-mode"],t)}else{t(e.IsotopeOm.LayoutMode)}})(window);(function(e){function t(e){var t=e.create("vertical",{horizontalAlignment:0});t.prototype._resetLayout=function(){this.y=0};t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotopeOm.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment;var n=this.y;this.y+=e.size.outerHeight;return{x:t,y:n}};t.prototype._getContainerSize=function(){return{height:this.y}};return t}if(typeof define==="function"&&define.amd){define("isotopeOm/js/layout-modes/vertical",["../layout-mode"],t)}else{t(e.IsotopeOm.LayoutMode)}})(window);(function(e){function n(e,t){for(var n in t){e[n]=t[n]}return e}function u(e){return o.call(e)==="[object Array]"}function f(e){var t=[];if(u(e)){t=e}else if(e&&typeof e.length==="number"){for(var n=0,r=e.length;n<r;n++){t.push(e[n])}}else{t.push(e)}return t}function l(e,t){var n=a(t,e);if(n!==-1){t.splice(n,1)}}function c(e,i,o,u,a){function p(e,t){return function(r,i){for(var s=0,o=e.length;s<o;s++){var u=e[s];var a=r.sortData[u];var f=i.sortData[u];if(a>f||a<f){var l=t[u]!==undefined?t[u]:t;var c=l?1:-1;return(a>f?1:-1)*c}}return 0}}var c=e.create("isotopeOm",{layoutMode:"masonry",isJQueryFiltering:true,sortAscending:true});c.Item=u;c.LayoutMode=a;c.prototype._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();e.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var t in a.modes){this._initLayoutMode(t)}};c.prototype.reloadItems=function(){this.itemGUID=0;e.prototype.reloadItems.call(this)};c.prototype._itemize=function(){var t=e.prototype._itemize.apply(this,arguments);for(var n=0,r=t.length;n<r;n++){var i=t[n];i.id=this.itemGUID++}this._updateItemsSortData(t);return t};c.prototype._initLayoutMode=function(e){var t=a.modes[e];var r=this.options[e]||{};this.options[e]=t.options?n(t.options,r):r;this.modes[e]=new t(this)};c.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()};c.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,e);this._isLayoutInited=true};c.prototype.arrange=function(e){this.option(e);this._getIsInstant();this.filteredItems=this._filter(this.items);this._sort();this._layout()};c.prototype._init=c.prototype.arrange;c.prototype._getIsInstant=function(){var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this._isInstant=e;return e};c.prototype._filter=function(e){function c(){l.reveal(r);l.hide(i)}var t=this.options.filter;t=t||"*";var n=[];var r=[];var i=[];var s=this._getFilterTest(t);for(var o=0,u=e.length;o<u;o++){var a=e[o];if(a.isIgnored){continue}var f=s(a);if(f){n.push(a)}if(f&&a.isHidden){r.push(a)}else if(!f&&!a.isHidden){i.push(a)}}var l=this;if(this._isInstant){this._noTransition(c)}else{c()}return n};c.prototype._getFilterTest=function(e){if(t&&this.options.isJQueryFiltering){return function(n){return t(n.element).is(e)}}if(typeof e==="function"){return function(t){return e(t.element)}}return function(t){return o(t.element,e)}};c.prototype.updateSortData=function(e){this._getSorters();e=f(e);var t=this.getItems(e);t=t.length?t:this.items;this._updateItemsSortData(t)};c.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=h(n)}};c.prototype._updateItemsSortData=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.updateSortData()}};var h=function(){function e(e){if(typeof e!=="string"){return e}var n=r(e).split(" ");var i=n[0];var s=i.match(/^\[(.+)\]$/);var o=s&&s[1];var u=t(o,i);var a=c.sortDataParsers[n[1]];e=a?function(e){return e&&a(u(e))}:function(e){return e&&u(e)};return e}function t(e,t){var n;if(e){n=function(t){return t.getAttribute(e)}}else{n=function(e){var n=e.querySelector(t);return n&&s(n)}}return n}return e}();c.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}};c.prototype._sort=function(){var e=this.options.sortBy;if(!e){return}var t=[].concat.apply(e,this.sortHistory);var n=p(t,this.options.sortAscending);this.filteredItems.sort(n);if(e!==this.sortHistory[0]){this.sortHistory.unshift(e)}};c.prototype._mode=function(){var e=this.options.layoutMode;var t=this.modes[e];if(!t){throw new Error("No layout mode: "+e)}t.options=this.options[e];return t};c.prototype._resetLayout=function(){e.prototype._resetLayout.call(this);this._mode()._resetLayout()};c.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)};c.prototype._manageStamp=function(e){this._mode()._manageStamp(e)};c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()};c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()};c.prototype.appended=function(e){var t=this.addItems(e);if(!t.length){return}var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)};c.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length){return}var n=this.items.slice(0);this.items=t.concat(n);this._resetLayout();this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(n);this.filteredItems=r.concat(this.filteredItems)};c.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});this.layoutItems(t,true);this.reveal(t);return e};c.prototype.insert=function(e){var t=this.addItems(e);if(!t.length){return}var n,r;var i=t.length;for(n=0;n<i;n++){r=t[n];this.element.appendChild(r.element)}var s=this._filter(t);this._noTransition(function(){this.hide(s)});for(n=0;n<i;n++){t[n].isLayoutInstant=true}this.arrange();for(n=0;n<i;n++){delete t[n].isLayoutInstant}this.reveal(s)};var d=c.prototype.remove;c.prototype.remove=function(e){e=f(e);var t=this.getItems(e);d.call(this,e);if(!t||!t.length){return}for(var n=0,r=t.length;n<r;n++){var i=t[n];l(i,this.filteredItems)}};c.prototype.shuffle=function(){for(var e=0,t=this.items.length;e<t;e++){var n=this.items[e];n.sortData.random=Math.random()}this.options.sortBy="random";this._sort();this._layout()};c.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);this.options.transitionDuration=t;return n};c.prototype.getFilteredItemElements=function(){var e=[];for(var t=0,n=this.filteredItems.length;t<n;t++){e.push(this.filteredItems[t].element)}return e};return c}var t=e.jQuery;var r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")};var i=document.documentElement;var s=i.textContent?function(e){return e.textContent}:function(e){return e.innerText};var o=Object.prototype.toString;var a=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1};if(typeof define==="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotopeOm/js/item","isotopeOm/js/layout-mode","isotopeOm/js/layout-modes/masonry","isotopeOm/js/layout-modes/fit-rows","isotopeOm/js/layout-modes/vertical"],c)}else{e.IsotopeOm=c(e.Outlayer,e.getSize,e.matchesSelector,e.IsotopeOm.Item,e.IsotopeOm.LayoutMode)}})(window)
;// Generated by CoffeeScript 1.6.2
/*
jQuery Waypoints - v2.0.2
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;a={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);
;"use strict";jQuery(function($){if(!$.browser)
$.browser=browser_detect();if($.browser.msie&&parseInt($.browser.version)<8)
return;if($.browser.webkit||$.browser.chrome||$.browser.safari)
$('html').addClass('webkit');else if($.browser.msie){$('html').addClass('msie');if(parseInt($.browser.version)==8)
$('html').addClass('msie8');else if(parseInt($.browser.version)>=10)
$('html').addClass('msie10');}
else if($.browser.mozilla)
$('html').addClass('mozilla');if($('html').hasClass('msie8'))
$('img').removeAttr('width').removeAttr('height');if(!!('ontouchstart'in window))
$('html').addClass('touch');else
$('html').addClass('no-touch');if($.browser.safari&&$('html').hasClass('touch')){$('body').removeClass('uncovering-footer');}
header_transparent_height_fix();responsiveListener_init();retina_images_init();fix_placeholders();bg_overlay_init();menu_init();search_popup_init();parallax_title_init();sliced_gallery_init();lazyload_init();masonry_gallery_init();responsive_embed_init();blog_grid_init();gallery_init();video_bg_container_init();portfolio_init();uncovering_footer_init();function browser_detect(){var matched,browser;var ua=navigator.userAgent.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];matched={browser:match[1]||"",version:match[2]||"0"};browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}
if(browser.webkit){browser.safari=true;}
return browser;}
function responsiveListener_init(){var lastWindowSize=$(window).width();$(window).data('mobile-view',(lastWindowSize<768));$(window).resize(function(){var w=$(this).width();if((w>=768&&lastWindowSize<768)||(w<=767&&lastWindowSize>767)){$(window).data('mobile-view',(w<768));}
lastWindowSize=w;});}
function retina_images_init(){if(window.devicePixelRatio>1.8){$('img[data-src-retina]').each(function(){if($(this).data('src-retina'))
this.src=$(this).data('src-retina');})}}
function bg_overlay_init(){var wh=$(window).height();var $obj=$('.bg-overlay');var h=$obj.height();if($('body').hasClass('uncovering-footer')){wh-=$('footer').height();}
if(h<wh)
$obj.css('min-height',wh+'px');}
function fix_placeholders(){var input=document.createElement("input");if(('placeholder'in input)==false){$('[placeholder]').focus(function(){var i=$(this);if(i.val()==i.attr('placeholder')){i.val('').removeClass('placeholder');if(i.hasClass('password')){i.removeClass('password');this.type='password';}}}).blur(function(){var i=$(this);if(i.val()==''||i.val()==i.attr('placeholder')){if(this.type=='password'){i.addClass('password');this.type='text';}
i.addClass('placeholder').val(i.attr('placeholder'));}}).blur().parents('form').submit(function(){$(this).find('[placeholder]').each(function(){var i=$(this);i.addClass('placeholder-submitting');if(i.val()==i.attr('placeholder'))
i.val('');})});}}
function header_transparent_height_fix(){if($('body').hasClass('custom-header-bg-transparent')&&$('body').hasClass('custom-header-bg-merge-title')){var adminbar=0;if($('body').hasClass('admin-bar'))
adminbar+=32;var interval=setInterval(function(){$('.page-title-inner').css('paddingTop',($('.header').height()+adminbar)+'px');},20);$(window).load(function(){setTimeout(function(){clearInterval(interval);},500);});}}
function menu_init(){$('ul.primary-menu-fallback.show-dropdown-symbol li').each(function(){if($(this).children('ul').length)
$(this).addClass('menu-item-has-children');});$('ul.primary-menu > li > a').prepend('<span class="primary-menu-line"></span>');$('.primary-menu li.megamenu-enable ul ul').addClass('megamenu-sub');var args={popUpSelector:'ul:not(.megamenu-sub)',autoArrows:false,delay:200,animation:{opacity:'show',height:'show'},animationOut:{},speed:0,speedOut:200,disableHI:true,onBeforeHide:function(){$(this).parent().removeClass('omHover');},onShow:function(){$(this).parent().addClass('omHover');}};$('ul.primary-menu').superfish(args);$('ul.header-menu-mobile').superfish({autoArrows:false,delay:500,animation:{opacity:'show',height:'show'},animationOut:{opacity:'hide',height:'hide'},speed:150,speedOut:200});$('.mobile-header-menu-control').click(function(){$(this).toggleClass('active');$('.mobile-header-menu-container').slideToggle(300);});if($('body').hasClass('menu-position-top_fixed')&&$.waypoints){var $menuStickyNode=$('.menu-sticky-node');if($menuStickyNode.length){var offset=$menuStickyNode.height();if(!offset)
offset=75;$menuStickyNode.wrap('<div class="menu-sticky-node-wrapper" />');var $wrapper=$menuStickyNode.parent();$wrapper.waypoint(function(direction){if(direction=='down'){$wrapper.css('height',$menuStickyNode.height());$menuStickyNode.addClass('menu-stuck');}else{$wrapper.css('height','auto');$menuStickyNode.removeClass('menu-stuck');}},{offset:-offset});$(window).scroll(function(){var last=$(window).data('last-scrollTop');var current=$(window).scrollTop();$(window).data('last-scrollTop',current);if($menuStickyNode.hasClass('menu-stuck')){var d=last-current;if(d>0){$menuStickyNode.addClass('moving-top');$menuStickyNode.removeClass('moving-down');}else if(d<0){$menuStickyNode.addClass('moving-down');$menuStickyNode.removeClass('moving-top');}}else{$menuStickyNode.removeClass('moving-down');$menuStickyNode.removeClass('moving-top');}});}}}
function search_popup_init(){var $menubox=$('.header-logo-menu .menu-box');if(!$menubox.length)
$menubox=false;var $menu=$('.primary-menu');$('.search-popup-link').click(function(e){e.preventDefault();var $popup=$(this).next('.search-popup');var $this=$(this);if(!$this.hasClass('active')){if($menubox)
$popup.css('max-width',$menubox.width()+'px');$menu.css('pointer-events','none');$this.addClass('active');$popup.addClass('active');setTimeout(function(){$popup.find('#s').focus();},100);}else{$menu.css('pointer-events','auto');$this.removeClass('active');$popup.removeClass('active');}});}
function parallax_title_init(){var $title=$('.page-title-wrapper.tpl-parallax');if($('html').hasClass('no-touch')&&$title.length){var $inner=$title.find('.page-title-inner');var pw=$(window).width();$('body').mousemove(function(e){var k=e.pageX/pw-0.5;var bx=Math.round(k*600);var sx=Math.round(k*300);$title.stop(true).animate({backgroundPosition:bx+'px 0'},1000);$inner.stop(true).animate({backgroundPosition:sx+'px 0'},1000);});}}
function gallery_init(){if($().omSlider){$('.custom-gallery').each(function(){var $items=$(this).find('.items');var num=$items.find('.item').length;if(num>1){var active=0;var hash=document.location.hash.replace('#','');if(hash!=''){var $active=$items.find('.item[rel='+hash+']');if($active.length)
active=$active.index();}
$(this).append('<div class="controls"><div class="control-prev"><a href="#" class="prev"></a></div><div class="control-next"><a href="#" class="next"></a></div><div class="control-progress"><div class="progress"></div></div></div>');var $controls=$(this).find('.controls');$controls.find('.total').html(num);var args={speed:400,next:$controls.find('.next'),prev:$controls.find('.prev'),active:active,before:function(currSlide,nextSlide,currSlideNum,nextSlideNum){$controls.find('.progress').css('width',Math.round(nextSlideNum/(num-1)*100)+'%');}};var $blog=$(this).parents('.blogroll.layout-grid-masonry');if($blog.length&&$().isotopeOm){var $iso=$blog.find('section');args.after=function(){$iso.isotopeOm('layout');};}
$items.omSlider(args);}});}}
function sliced_gallery_init(){$(window).bind('resize load',function(){sliced_gallery_resize();});sliced_gallery_resize();}
function sliced_gallery_resize(){$('.gallery-sliced').each(function(){var $cont=$(this);var w=$cont.width();var mar=Math.floor(w*0.01);var $box=$cont.find('.gallery-sliced-box-2');if($box.length){var h1=Math.floor(w*0.66*0.66579634464751958224543080939948);$box.find('.img-1, .img-2').css('height',h1+'px');}
var $box=$cont.find('.gallery-sliced-box-3');if($box.length){$box.find('.img-2').css('margin-bottom',mar+'px');var h2=Math.floor(w*0.33*0.65274151436031331592689295039164);var h1=h2*2+mar;$box.find('.img-1').css('height',h1+'px');$box.find('.img-2, .img-3').css('height',h2+'px');}
var $box=$cont.find('.gallery-sliced-box-4');if($box.length){$box.find('.img-2, .img-3').css('margin-bottom',mar+'px');var h2=Math.floor(w*0.33*0.56396866840731070496083550913838);var h1=h2*3+mar*2;$box.find('.img-1').css('height',h1+'px');$box.find('.img-2, .img-3, .img-4').css('height',h2+'px');}
var $box=$cont.find('.gallery-sliced-box-5');if($box.length){var h1=Math.floor(w*0.3266*0.6649076517150);var h2=Math.floor(w*0.495*0.66550522648083);$box.find('.img-1, .img-2, .img-3').css('height',h1+'px');$box.find('.img-4, .img-5').css('height',h2+'px');}});}
function lazyload_init(context){if($().lazyload){$('.wpb_animate_when_almost_visible .lazyload',context).add('.om-animation .lazyload',context).each(function(){var original=$(this).data('original');if(original){$(this).removeClass('lazyload');$(this).attr('src',$(this).data('original'));}});var args={effect:"fadeIn",failure_limit:1000,threshold:200,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",skip_invisible:false};var $lazyload=$('img.lazyload',context);$lazyload.filter('.lazyload-hidden').lazyload(args);args.skip_invisible=true;$lazyload.not('.lazyload-hidden').lazyload(args);if($.waypoints){$lazyload.load(function(){$.waypoints('refresh');});}}}
function masonry_gallery_init(){if($().isotopeOm){$('.gallery-masonry').each(function(){var $container=$(this).find('.items');var args={itemSelector:'.item',layoutMode:'masonry'};$container.isotopeOm(args);$container.find('img').load(function(){$container.isotopeOm('layout');});});}}
function responsive_embed_init(){$('.responsive-embed').each(function(){var $obj=$(this).children(':first');if($obj.length){var w=parseInt($obj.attr('width'));var h=parseInt($obj.attr('height'));if(!isNaN(w)&&!isNaN(h)&&w>0&&h>0){var r=h/w;$(this).css('padding-bottom',(r*100)+'%');}}});}
function blog_grid_init(){if($().isotopeOm){$('.blogroll.layout-grid-masonry').each(function(){var $container=$(this).find('section');var args={itemSelector:'.post',layoutMode:'masonry'};$container.isotopeOm(args);$container.find('img').load(function(){$container.isotopeOm('layout');});});}}
function video_bg_container_init(){function video_bg_container_fit($obj){var $tmp;if($obj)
$tmp=$obj;else
$tmp=$('.om-video-bg-container');$tmp.each(function(){var $video=$(this).find('video');if($video.length){var w=$(this).width();var h=$(this).height();var r=w/h;var vr=$video.data('wh-ratio');if(r<vr){$video.width(h*vr).height(h);$video.css('top',0).css('left',-(h*vr-w)/2).css('height',h);}else{$video.width(w).height(w/vr);$video.css('top',-(w/vr-h)/2).css('left',0).css('height',w/vr);}}});}
$('.om-video-bg-container').each(function(){var $container=$(this);var $video=$container.find('video');if($video.length){$video.get(0).volume=0;$video.data('wh-ratio',16/9);$video.on('loadedmetadata',function(data){var videoWidth=0;var videoHeight=0;if(this.videoWidth)
videoWidth=this.videoWidth;if(this.videoHeight)
videoHeight=this.videoHeight;if(videoWidth&&videoHeight){var ratio=videoWidth/videoHeight;$video.data('wh-ratio',ratio);}
video_bg_container_fit($container);});}});$(window).bind('resize load',function(){var timer=$(this).data('video_bg_container_fit_timer');if(timer){clearTimeout(timer);timer=false;}
timer=setTimeout(video_bg_container_fit,200);$(this).data('video_bg_container_fit_timer',timer);});}
function portfolio_init(){var getDirection=function(ev,obj){var offset=$(obj).offset();var width=$(obj).width();var height=$(obj).height();var darr=[Math.abs(ev.pageY-offset.top),Math.abs(ev.pageX-offset.left-width),Math.abs(ev.pageY-offset.top-height),Math.abs(ev.pageX-offset.left)];var d=darr.indexOf(Math.min.apply(Math,darr));return d;};var addClass=function(ev,obj,state){var direction=getDirection(ev,obj),class_suffix="";obj.className="";switch(direction){case 0:class_suffix='-top';break;case 1:class_suffix='-right';break;case 2:class_suffix='-bottom';break;case 3:class_suffix='-left';break;}
obj.classList.add(state+class_suffix);};var hoverInit=function(elems){$(elems).find('a').each(function(){$(this).mouseenter(function(ev){addClass(ev,this,'in');});$(this).mouseleave(function(ev){addClass(ev,this,'out');});});}
var lazyloadInit=function(elems){lazyload_init($(elems));}
$('.ompf-portfolio').each(function(){var $container=$(this);var callbacks=$container.data('appenedElemsCallbacks');if(!callbacks)
callbacks=[];if($container.hasClass('ompf-preview-layout-full-hover-2')){var $nodes=$container.find('.ompf-portfolio-thumb');hoverInit($nodes);callbacks.push(hoverInit);}
callbacks.push(lazyloadInit);$container.data('appenedElemsCallbacks',callbacks);});}
function uncovering_footer_init(){function uncovering_footer_set(){$('.hc-wrapper').css('margin-bottom',$('footer').height()+'px');}
if($('body').hasClass('uncovering-footer')){uncovering_footer_set();$(window).bind('resize load',function(){uncovering_footer_set();});}}});function lightbox_init(args_){var args={deeplinking:false,overlay_gallery:false,opacity:0.98,theme:'om_theme',horizontal_padding:0,markup:'<div class="pp_pic_holder">'+'<div class="pp_content_container">'+'<div class="pp_content">'+'<div class="pp_loaderIcon"></div>'+'<div class="pp_details">'+'<div class="pp_nav">'+'<a href="#" class="pp_arrow_previous">Previous</a>'+'<p class="currentTextHolder">0/0</p>'+'<a href="#" class="pp_arrow_next">Next</a>'+'</div>'+'{pp_social}'+'<a href="#" class="pp_expand" title="Expand the image">Expand</a>'+'<a class="pp_close" href="#">Close</a>'+'</div>'+'<div class="pp_fade">'+'<div class="pp_hoverContainer">'+'<a class="pp_next" href="#">next</a>'+'<a class="pp_previous" href="#">previous</a>'+'</div>'+'<div id="pp_full_res"></div>'+'</div>'+'</div>'+'</div>'+'<div class="ppt">&nbsp;</div>'+'</div>'+'<div class="pp_overlay"></div>'};if(args_)
jQuery.extend(args,args_);if(jQuery().prettyPhoto){jQuery('a[rel^=prettyPhoto]').addClass('pp_worked_up').prettyPhoto(args);jQuery('a[data-rel^=prettyPhoto]').addClass('pp_worked_up').prettyPhoto(jQuery.extend(args,{hook:'data-rel'}));var $tmp=jQuery('a').filter(function(){return /\.(jpe?g|png|gif|bmp)$/i.test(jQuery(this).attr('href'));}).not('.pp_worked_up');$tmp.each(function(){if(typeof(jQuery(this).attr('title'))=='undefined')
jQuery(this).attr('title','');});$tmp.prettyPhoto(args);}}
function sidebar_slide_init(){var $sidebar=jQuery('.content-column-sidebar');var $content=jQuery('.content-column-content');var menu_fixed=jQuery('body').hasClass('menu-position-top_fixed');var admin_bar=jQuery('body').hasClass('admin-bar');if(menu_fixed)
var $top_area=jQuery('.menu-sticky-node');var move_delay=1200;if($sidebar.data('move-delay')||$sidebar.data('move-delay')=='0'){var tmp=parseInt($sidebar.data('move-delay'));if(!isNaN(tmp))
move_delay=tmp;}
if($sidebar.length){$sidebar.mouseenter(function(){$sidebar.addClass('hovered');}).mouseleave(function(){$sidebar.removeClass('hovered');});var sidebar_timer=false;var ie8=jQuery.browser.msie&&(jQuery.browser.version==8);jQuery(window).scroll(function(){if(sidebar_timer)
clearTimeout(sidebar_timer);if(jQuery(window).data('mobile-view')){$sidebar.stop(true).css({marginTop:0,opacity:1});return;}
sidebar_timer=setTimeout(function(){$sidebar.stop(true);var ch=$content.height();var ws=jQuery(window).scrollTop();var wh=jQuery(window).height();var top=$sidebar.offset();var sidebarh=$sidebar.height();if(ch>sidebarh)
{var cur_mar=parseInt($sidebar.css('margin-top'));var max=ch-sidebarh;var new_mar=cur_mar;var gap=0;if(admin_bar)
gap+=32;if(menu_fixed&&$top_area.hasClass('menu-stuck')){gap+=$top_area.height();}
if(top.top-ws-gap>0){new_mar=ws-(top.top-cur_mar)+gap;if(new_mar>max)
new_mar=max;if(new_mar<0)
new_mar=0;}else if(top.top+sidebarh-ws-gap<wh){if(sidebarh<wh){new_mar=ws-(top.top-cur_mar)+gap;}else{new_mar=ws-(top.top-cur_mar)-(sidebarh-wh);}
if(new_mar>max)
new_mar=max;if(new_mar<0)
new_mar=0;}
if(new_mar!=cur_mar){$sidebar.fadeTo(600,0.2).fadeTo(400,1);$sidebar.animate({marginTop:new_mar+'px'},{duration:1000,easing:'easeInOutExpo',queue:false});}else{$sidebar.fadeTo(400,1);}}},move_delay);});}}
function page_out_init(){jQuery(window).click(function(e){if(e.target&&e.target.tagName=='A'&&e.target.href.toLowerCase().indexOf('mailto:')==0){jQuery(window).data('om-last-click',false);}else{var date=new Date();jQuery(window).data('om-last-click',{x:e.clientX,y:e.clientY,time:date.getTime()});}});jQuery(window).on('beforeunload',function(){var data=jQuery(window).data('om-last-click');if(data){var date=new Date();if(data.time+100>date.getTime()){var $closing=jQuery('<div class="om-closing"></div>');var $inner=jQuery('<div class="om-closing-inner"></div>').css({left:data.x+'px',top:data.y+'px'}).appendTo($closing);jQuery('body').append($closing);$inner.animate({width:'0',height:'0',borderWidth:'3000px'},300,'easeOutExpo',function(){jQuery('<div class="ompf-ajaxloading"></div>').appendTo('body').css('z-index','100001').fadeIn(300);});}}});};(function(){function c(){var e=false;if(e){N("keydown",y)}if(t.keyboardSupport&&!e){T("keydown",y)}}function h(){if(!document.body)return;var e=document.body;var i=document.documentElement;var a=window.innerHeight;var f=e.scrollHeight;o=document.compatMode.indexOf("CSS")>=0?i:e;u=e;c();s=true;if(top!=self){r=true}else if(f>a&&(e.offsetHeight<=a||i.offsetHeight<=a)){var l=false;var h=function(){if(!l&&i.scrollHeight!=document.height){l=true;setTimeout(function(){i.style.height=document.height+"px";l=false},500)}};i.style.height="auto";setTimeout(h,10);if(o.offsetHeight<=a){var p=document.createElement("div");p.style.clear="both";e.appendChild(p)}}if(!t.fixedBackground&&!n){e.style.backgroundAttachment="scroll";i.style.backgroundAttachment="scroll"}}function m(e,n,r,i){i||(i=1e3);k(n,r);if(t.accelerationMax!=1){var s=+(new Date);var o=s-v;if(o<t.accelerationDelta){var u=(1+30/o)/2;if(u>1){u=Math.min(u,t.accelerationMax);n*=u;r*=u}}v=+(new Date)}p.push({x:n,y:r,lastX:n<0?.99:-.99,lastY:r<0?.99:-.99,start:+(new Date)});if(d){return}var a=e===document.body;var f=function(s){var o=+(new Date);var u=0;var l=0;for(var c=0;c<p.length;c++){var h=p[c];var v=o-h.start;var m=v>=t.animationTime;var g=m?1:v/t.animationTime;if(t.pulseAlgorithm){g=D(g)}var y=h.x*g-h.lastX>>0;var b=h.y*g-h.lastY>>0;u+=y;l+=b;h.lastX+=y;h.lastY+=b;if(m){p.splice(c,1);c--}}if(a){window.scrollBy(u,l)}else{if(u)e.scrollLeft+=u;if(l)e.scrollTop+=l}if(!n&&!r){p=[]}if(p.length){M(f,e,i/t.frameRate+1)}else{d=false}};M(f,e,0);d=true}function g(e){if(!s){h()}var n=e.target;var r=x(n);if(!r||e.defaultPrevented||C(u,"embed")||C(n,"embed")&&/\.pdf/i.test(n.src)){return true}var i=e.wheelDeltaX||0;var o=e.wheelDeltaY||0;if(!i&&!o){o=e.wheelDelta||0}if(!t.touchpadSupport&&A(o)){return true}if(Math.abs(i)>1.2){i*=t.stepSize/120}if(Math.abs(o)>1.2){o*=t.stepSize/120}m(r,-i,-o);e.preventDefault()}function y(e){var n=e.target;var r=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==l.spacebar;if(/input|textarea|select|embed/i.test(n.nodeName)||n.isContentEditable||e.defaultPrevented||r){return true}if(C(n,"button")&&e.keyCode===l.spacebar){return true}var i,s=0,o=0;var a=x(u);var f=a.clientHeight;if(a==document.body){f=window.innerHeight}switch(e.keyCode){case l.up:o=-t.arrowScroll;break;case l.down:o=t.arrowScroll;break;case l.spacebar:i=e.shiftKey?1:-1;o=-i*f*.9;break;case l.pageup:o=-f*.9;break;case l.pagedown:o=f*.9;break;case l.home:o=-a.scrollTop;break;case l.end:var c=a.scrollHeight-a.scrollTop-f;o=c>0?c+10:0;break;case l.left:s=-t.arrowScroll;break;case l.right:s=t.arrowScroll;break;default:return true}m(a,s,o);e.preventDefault()}function b(e){u=e.target}function S(e,t){for(var n=e.length;n--;)w[E(e[n])]=t;return t}function x(e){var t=[];var n=o.scrollHeight;do{var i=w[E(e)];if(i){return S(t,i)}t.push(e);if(n===e.scrollHeight){if(!r||o.clientHeight+10<n){return S(t,document.body)}}else if(e.clientHeight+10<e.scrollHeight){overflow=getComputedStyle(e,"").getPropertyValue("overflow-y");if(overflow==="scroll"||overflow==="auto"){return S(t,e)}}}while(e=e.parentNode)}function T(e,t,n){window.addEventListener(e,t,n||false)}function N(e,t,n){window.removeEventListener(e,t,n||false)}function C(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function k(e,t){e=e>0?1:-1;t=t>0?1:-1;if(i.x!==e||i.y!==t){i.x=e;i.y=t;p=[];v=0}}function A(e){if(!e)return;e=Math.abs(e);f.push(e);f.shift();clearTimeout(L);var t=O(f[0],120)&&O(f[1],120)&&O(f[2],120);return!t}function O(e,t){return Math.floor(e/t)==e/t}function _(e){var n,r,i;e=e*t.pulseScale;if(e<1){n=e-(1-Math.exp(-e))}else{r=Math.exp(-1);e-=1;i=1-Math.exp(-e);n=r+i*(1-r)}return n*t.pulseNormalize}function D(e){if(e>=1)return 1;if(e<=0)return 0;if(t.pulseNormalize==1){t.pulseNormalize/=_(1)}return _(e)}var e={frameRate:150,animationTime:700,stepSize:120,pulseAlgorithm:true,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:true,arrowScroll:50,touchpadSupport:true,fixedBackground:true,excluded:""};var t=e;var n=false;var r=false;var i={x:0,y:0};var s=false;var o=document.documentElement;var u;var a;var f=[120,120,120];var l={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36};var t=e;var p=[];var d=false;var v=+(new Date);var w={};setInterval(function(){w={}},10*1e3);var E=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}();var L;var M=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,n){window.setTimeout(e,n||1e3/60)}}();var P=/chrome/i.test(window.navigator.userAgent);var H=null;if("onwheel"in document.createElement("div"))H="wheel";else if("onmousewheel"in document.createElement("div"))H="mousewheel";if(H&&P){T(H,g);T("mousedown",b);T("load",h)}})();